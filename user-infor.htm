<!doctype html>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<title>全员营销</title>
<link type="text/css" rel="stylesheet"  href="style/main.css"/>
<link type="text/css" rel="stylesheet"  href="style/font-awesome.min.css" />
<link type="text/css" rel="stylesheet"  href="style/dialog.css"/>
<script src="js/echarts.js"></script>
<script >
	 require.config({
        paths: {
            echarts: './js'
        }
    });
	 require(
        [
            'echarts',
            'echarts/chart/line',
            'echarts/chart/bar',
            'echarts/chart/pie',
			'echarts/chart/map',
            'echarts'
        ],
        function (ec)
		{   
		    createBarChart(ec);
			createPieChart(ec);
			createLineChart(ec);
		}
    );
		function createBarChart(ec)
	{
		 var myChart = ec.init(document.getElementById('main'));
                var option = {
    title : {
        text: '近6个月消费结构',
        //subtext: '纯属虚构'
		x:'center'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
	     orient : 'vertical',
	       x:'left',
        data:['产品','流量']
    },
	grid:{
	x:'30',
	x2:'36'
	},
    calculable : true,
    xAxis : [
        {
            type : 'category',
			axisLabel :{
				rotate:45,
				interval:0
			},
            data : ['4月','5月','6月','7月','8月','9月']
        }
    ],
    yAxis : [
        {
            type : 'value'
        }
    ],
    series : [
        {
            name:'产品',
            type:'bar',
            data:[23.2, 25.6, 76.7, 135.6, 162.2, 32.6],
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
        {
            name:'流量',
            type:'bar',
            data:[2.6, 5.9, 9.0, 26.4, 28.7, 70.7, 175.6, 182.2, 48.7, 18.8, 6.0, 2.3],
            markPoint : {
                data : [
                    {name : '年最高', value : 182.2, xAxis: 7, yAxis: 183, symbolSize:18},
                    {name : '年最低', value : 2.3, xAxis: 11, yAxis: 3}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name : '平均值'}
                ]
            }
        }
    ]
};          
             myChart.setOption(option);
	}
		function createPieChart(ec)
	{
		 var myChart = ec.init(document.getElementById('main1'));
                var option = {
				title : {
        text: '当月消费结构',
        //subtext: '纯属虚构'
		x:'center'
    },
    tooltip : {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c} ({d}%)"
    },
    legend: {
        orient : 'vertical',
        x : 'left',
        data:['通话','语音','短信','流量','其他']
    },
    calculable : true,
    series : [
        {
            name:'消费情况',
            type:'pie',
            radius : ['50%', '70%'],
            itemStyle : {
                normal : {
                    label : {
                        show : false
                    },
                    labelLine : {
                        show : false
                    }
                },
                emphasis : {
                    label : {
                        show : true,
                        position : 'center',
                        textStyle : {
                            fontSize : '30',
                            fontWeight : 'bold'
                        }
                    }
                }
            },
            data:[
                {value:335, name:'通话'},
                {value:310, name:'语音'},
                {value:234, name:'短信'},
                {value:135, name:'流量'},
                {value:1548, name:'其他'}
            ]
        }
    ]
};  
             myChart.setOption(option);
	}
		function createLineChart(ec)
	{
		 var myChart = ec.init(document.getElementById('main2'));
                var option = {
    title : {
        text: '换机曲线图',
        //subtext: '纯属虚构'
		x:'center'
    },
    tooltip : {
        trigger: 'axis'
    },
    legend: {
	       x : 'left',
        data:['使用时长']
	
    },
	grid:{
		y2:'130',
		x:'50',
		x2:'20'
	},
    calculable : true,
    xAxis : [
        {
            type : 'category',
             boundaryGap : false,
			scale:true,
			axisLabel :{
				rotate:60,
				interval:0
			},
            data : ['2015年1月iphone4','2015年3月iphone5','2015年5月iphone5s','2015年7月iphone6','2015年8月iphone6 plus','2015年9月三星s6','2015年10月小米4']
        }
    ],
    yAxis : [
        {
            type : 'value',
            axisLabel : {
                formatter: '{value} 月'
            }
        }
    ],
    series : [
        {
            name:'使用时长',
            type:'line',
            data:[8, 10, 4, 12, 2, 0,6 ],
            markPoint : {
                data : [
                    {type : 'max', name: '最大值'},
                    {type : 'min', name: '最小值'}
                ]
            },
            markLine : {
                data : [
                    {type : 'average', name: '平均值'}
                ]
            }
        },
    ]
};
                    
             myChart.setOption(option);
	}
</script>
<script>
     $(function(){
       $('footer a').hover(function(){
	   $(this).css('color','#a5a5a5')
	   }
	   else{
	   $(this).css('color','#04B7AE')
	   }
     })
</script>
</head>
<body>
<!------圈子用户信息---------------> 
<div class="user_div">
 <div class="user_pic"><img src="images/ren.jpg" title="人物头像" /></div>
<span>手机: </span>苹果IPHONE 5S（3500元）<br/>
<span>产品: </span>4G飞享138元套餐<br/>
<span>上月资费：</span>165元<br/>
<span>上月流量：</span>800M<br/>
<span>已订购流量包：</span>30元套餐包
</div>
<div class="user_infor">
   <!-- 为ECharts准备一个具备大小（宽高）的Dom -->
  <div id="main" style="height:320px;"></div>
  <div id="main1" style="height:360px;"></div>
   <div id="main2" style="height:400px;"></div>
</div>
    <script src="js/main.js"></script> 
	  <script src="js/modernizr.js"></script>
<div class="clear"></div>
   <script src="js/jquery-1.10.2.js"></script>
<footer>
            <a href="group.htm" class="visited"><i class="fa fa-users"></i>营销</a>
            <a href="market.htm" ><i class="fa fa-heart"></i>记录</a>
            <a href="circle.htm"><i class="fa fa-pie-chart"></i>圈子</a>
           <a href="user.htm"><i class="fa fa-user"></i>我</a>    
 </footer>

</body>
</html>
